(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c99ed2c"],{"344e":function(t,e,a){"use strict";a("c9e4")},"3fe3":function(t,e,a){"use strict";var s=a("688d");e["a"]={data:function(){var t=this;return{options2:{shortcuts:[{text:"近一周",value:function(){var t=new Date,e=new Date;return e.setTime(e.getTime()-6048e5),[e,t]}},{text:"近一个月",value:function(){var t=new Date,e=new Date;return e.setTime(e.getTime()-2592e6),[e,t]}},{text:"近一年",value:function(){var t=new Date,e=new Date;return e.setTime(e.getTime()-864e5*Object(s["b"])()),[e,t]}}],disabledDate:function(e){if(t.endMonth){var a=t.getDate(t.endMonth);return e&&e>a||e>new Date}return e&&e>new Date}}}}}},"688d":function(t,e,a){"use strict";function s(t){var e=t.getFullYear(),a=t.getMonth()+1;a=a<10?"0"+a:a;var s=t.getDate();return s=s<10?"0"+s:s,e+"-"+a+"-"+s}function i(){var t=new Date,e=new Date(t.getFullYear(),0,1),a=t.getTime()-e.getTime(),s=Math.floor(a/864e5);return s}a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}))},"6ef6":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("div",{staticClass:"page-header margin-bottom-20"},[void 0!==t.validForm.projectId?a("Icon",{staticClass:"icon",attrs:{type:"ios-arrow-back",color:"#0F75FF",size:"18"},on:{click:t.goBack}}):t._e(),a("h3",[t._v("提交记录")])],1),a("div",{staticClass:"main-body"},[a("div",{staticClass:"main-title margin-bottom-20"},[a("Row",{attrs:{gutter:20}},[a("i-col",{attrs:{span:4}},[a("Input",{attrs:{placeholder:"请输入commitId",size:"large",clearable:""},model:{value:t.commitId,callback:function(e){t.commitId=e},expression:"commitId"}})],1),a("i-col",{staticClass:"text-left",attrs:{span:4}},[a("Select",{attrs:{size:"large",placeholder:"请选择项目名称",filterable:"",clearable:""},model:{value:t.projectId,callback:function(e){t.projectId=e},expression:"projectId"}},t._l(t.projectList,(function(e){return a("Option",{key:e.projectId+e.projectName,attrs:{value:e.projectId}},[t._v(t._s(e.projectName))])})),1)],1),a("i-col",{staticClass:"text-left",attrs:{span:4}},[a("Select",{attrs:{size:"large",placeholder:"请选择人员",filterable:"",clearable:""},model:{value:t.realUserId,callback:function(e){t.realUserId=e},expression:"realUserId"}},t._l(t.personList,(function(e){return a("Option",{key:e.realUserId+e.realUserName,attrs:{value:e.realUserId}},[t._v(t._s(e.realUserName))])})),1)],1),a("i-col",{staticClass:"text-left",attrs:{span:4}},[a("Select",{attrs:{size:"large",placeholder:"请选择仓库",filterable:"",clearable:""},model:{value:t.storageId,callback:function(e){t.storageId=e},expression:"storageId"}},t._l(t.storageList,(function(e,s){return a("Option",{key:s,attrs:{value:e.storageId}},[t._v(t._s(e.storageName))])})),1)],1),a("i-col",{attrs:{span:5}},[a("div",{staticClass:"date-box"},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"daterange",options:t.options2,placement:"bottom-end",placeholder:"请选择日期",size:"large",value:t.selectTimeValue},on:{"on-change":t.changeTime}})],1)]),a("i-col",{attrs:{span:3}},[a("Button",{directives:[{name:"debounce",rawName:"v-debounce"}],attrs:{size:"large",type:"primary"},on:{click:t.searchList}},[a("span",{staticClass:"fa fa-search"})])],1)],1)],1),t.hasList?a("div",[a("div",{staticClass:"page-table margin-bottom-20"},[a("Table",{attrs:{loading:t.tableLoading,columns:t.columns1,stripe:"",data:t.dataList},scopedSlots:t._u([{key:"deletions",fn:function(e){var s=e.row;return[a("div",{staticClass:"actionLink"},[a("span",{staticClass:"delete-txt"},[t._v(t._s(s.deletions))])])]}},{key:"additions",fn:function(e){var s=e.row;return[a("div",{staticClass:"actionLink"},[a("span",{staticClass:"add-txt"},[t._v(t._s(s.additions))])])]}}],null,!1,301671537)})],1),a("div",{staticClass:"page-footer text-center"},[a("Page",{attrs:{total:t.itemTotal,current:t.pageIndex,"page-size":t.pageSize,"show-elevator":"","show-total":"","show-sizer":""},on:{"on-page-size-change":t.getPageSize,"on-change":t.getPageList}})],1)]):a("div",{staticClass:"main-none"},[a("noListData")],1)]),a("div",{staticClass:"content_win"})])},i=[],r=a("3fe3"),n=a("688d"),o=a("2f62");function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function d(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){u(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function u(t,e,a){return e=g(e),e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function g(t){var e=p(t,"string");return"symbol"==c(e)?e:e+""}function p(t,e){if("object"!=c(t)||!t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var s=a.call(t,e||"default");if("object"!=c(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var h={name:"message",components:{},mixins:[r["a"]],data:function(){return{selectActive:1,hasList:!1,pageSize:10,pageIndex:1,itemTotal:0,validForm:{},query:{},dataList:[],projectList:[],personList:[],storageList:[],realUserId:"",storageId:"",projectId:"",startDate:"",commitId:"",endDate:"",selectTime:[],tableLoading:!1,selectTimeValue:[]}},computed:d({},Object(o["c"])("commit",["columns1"])),watch:{realUserId:function(t,e){this.getProjectNameList(),this.getStoragesList()},storageId:function(t,e){this.getProjectNameList(),this.getPersonList()},projectId:function(t,e){this.getStoragesList(),this.getPersonList()}},created:function(){var t=new Date,e=new Date;e.setTime(e.getTime()-2592e6),this.startDate=Object(n["a"])(e,"yyyy-MM-dd"),this.endDate=Object(n["a"])(t,"yyyy-MM-dd"),this.selectTimeValue[0]=this.startDate,this.selectTimeValue[1]=this.endDate},mounted:function(){void 0!==this.$route.params.projectId&&this.$set(this.validForm,"projectId",this.$route.params.projectId),this.getList(),this.getProjectNameList(),this.getPersonList(),this.getStoragesList()},methods:{getPageList:function(t){this.pageIndex=t,this.getList()},getPageSize:function(t){this.pageIndex=1,this.pageSize=t,this.getList()},searchList:function(){this.pageIndex=1,this.getList()},updatePerson:function(){this.$refs.editPerson.dialogVisible=!0},getList:function(){var t=this;this.tableLoading=!0;var e={pageIndex:this.pageIndex,pageSize:this.pageSize},a={startDate:this.startDate,endDate:this.endDate,storageId:this.storageId,projectId:this.projectId,realUserId:this.realUserId,commitId:this.commitId};console.log("validForm",a),e=Object.assign(a,e),this.$store.dispatch("commit/getList",e).then((function(e){t.tableLoading=!1;var a=e.data;a.records&&0===a.records.length?t.hasList=!1:(t.hasList=!0,t.dataList=a.records,t.itemTotal=a.total)})).catch((function(){t.tableLoading=!1}))},goBack:function(){this.$router.push("/video")},getProjectNameList:function(){var t=this,e={realUserId:this.realUserId,storageId:this.storageId,type:1};this.$store.dispatch("commit/getProjectNameList",e).then((function(e){t.projectList=e.data})).catch((function(){}))},getPersonList:function(){var t=this,e={projectId:this.projectId,storageId:this.storageId,type:0};this.$store.dispatch("commit/getPersonList",e).then((function(e){t.personList=e.data})).catch((function(){}))},getStoragesList:function(){var t=this,e={projectId:this.projectId,realUserId:this.realUserId,type:0};this.$store.dispatch("commit/getStoragesList",e).then((function(e){t.storageList=e.data})).catch((function(){}))},changeTime:function(t){console.log(t),this.selectTime=t,this.startDate=t[0],this.endDate=t[1]}}},m=h,f=(a("344e"),a("2877")),v=Object(f["a"])(m,s,i,!1,null,"49e11c30",null);e["default"]=v.exports},c9e4:function(t,e,a){}}]);