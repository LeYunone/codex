(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09a25244"],{"039d":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAABHNCSVQICAgIfAhkiAAABCpJREFUSEu1ln9MU1cUx899ry1UtBOiAWNwNJmTWp24ODONBrPEsO0viWHjD0PRP5b9Y8ShifyolKEZidnEuMw/9sN2blABg4nJMtQoSIw/lxmxEdliKwSpQqCVtVDa967nvvZhS1+Fwuz7o+19957PO+d8zzmPwBv6UEoXE0I8O5yWxef1Fo+MIW+Ch7AlaPeGe3KkrezfU4UE6O92o9nCWDHAIsfRPI5SEy7mJfsgFOAe4fkTTbmHnuHZ9kka2nrE9Vvwn/EBNaUwwIv82sb3KkangAzGA/07WVD0fkLB81PugVtaXlPwXX+rcHeslwegLwSObmkxHO6O8fBzR10DAbIPN9ROLBAaouM+00OwPKX6VA0ly7abPsnYCDb3RfrnyB2MJARFjn7avNp8OS6HxY66Doxw/sSCUHoyMNnQY//gMb0268AfI7fhjPuStIwelzatqbbFREH+IwPtxuqkhYQiKUQ7rXfGHnEYSkwn0watlYWSFLD4Yd02EIkJw5OjFNq1C/W6gys+y3NNPONqnWdAwAtF4kZiDxOSSIitxVh1L2FIoz2MwK4mymGmJh3q9KXgEwJQ5fwZ/PhN8SIUcZE4ofcewqvW2w0VrhjRKIW0+MERKx40KQEX8Vr4Wr8b0vgUqHz8CwwHvWFYOHsxR3D9xFmjuWxmYERI04FqogJzzi54OzUTLK5fwTk+iKjwR1kAtBPzuW1OQGawfEVR8P2FK9Xf9rfCX2O9uMJ8k8x58f5b8RGZB9CUVTD5ccYGjXWwHdpH7zIWUNQ/5s02kRYqS/HxHdhD18VC5whkRV2StR1ah67BuaGusM2wazb7mupS9oM1gRS/yhXr6RyAHyxaBfuzd0KXpxtOPb0gsyoIR2/aDeYO2SNloSUJfEe7XBLJI38/1D+xg4hXtPJeD5PCMHvRZGoy8lmtjYb+g8NOKwTEoGRf5IWPmnNrpmq02HEUQ0pPxwtmBmB0L/2yp+F6jb5ks4ZTSbXmRShLGeW4L5oNlT9ON564bpU8fFXkVoTub8upCfQFhtxL1TqdGT0bCAzLtbb3rLH6e1kgqX71Pruxqjb5HIZ7phQiHFOdjasrRwQqFn7T1wgO3xNJjujdCxG4fNYbI2q8GhnWVmyJu9lZ5dAqeChtZlCBlJZnF63boHs374eBC9DlvR/TRcK9EQqpSI5PezOw4qN2KucxAVBKL6Ws5x1/VWuRaaOshlmuJgDKc+2a5z4XVWsJ+uMsWeGKjS8LhH2Id650+5xarDWKtUZw7SG2KUMyppX2xk0LNJyOG3v7As+XYK0JWGv48gNtWGsnOYG/Ml+gAGS9PISnpsnzgKfe7Dxd7hV8KgxBl6BLK2jJ/mqcCQnd3THXV0dUtVVx4jMv9vQcq8fpvZNThTY1rbIMz9czpfNx83L6q/n/DX0JphlEO861rEcAAAAASUVORK5CYII="},"04bb":function(e,t,a){"use strict";a("7a35")},1201:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAABHNCSVQICAgIfAhkiAAAAnRJREFUSEu9Vu1R20AQ3ZMLwKkAUwEKFIDpwFSQOJDfOBVEVID5HRibCqJ0YAoAlAridGAKsC5vNZZYnfdO5/zwzWjGPu2+t98rQ3s+Zs98FEWYzuwgKenaWEph4NvzlRlJQ0/v7Wjdo6IYm2WXA0FCJuqtaQazhjWQJbp5uTSZBD65t0tj6JAs5SC+AXHhI/YSnjzYz1C6hUBfKq9LOi++mkV9B6PSXkmvwqAVfn+DUXONVCUEWYYX3zWFdUIf4AGDVgfeTeHdtSuLSMxBOnbvtwjZM1zONDKA/AYI57E5TTgVBciPXU9bhJvieHXDyFhQfipLykLhVLxclQlSIHLaIkS1zVEgnxTFLUtZxiff0rf0iKrmeqhOQ1hVZEl/Ysk2hCsgHGjhl3fI+1HdMg0hcjfBn1spyGFEDoYaIPceyH52kVlLf4E7gZd5y0MQLvDizAnHRS3oAofCySSQz8sezd2efPewbl6B/HyJgvccELbCGSKREA3g6QNUxGGAlyszCIWT2wTlu9A88RnqJQRQgXB+1BR5uuB+FTM7Xf3/DmlXscCoPob9MZ4hnqO6NWSV7lQ0PsL0hx0mCc0A3KRDVnuwLTg/sOy8yxv5Xqt21MMd6mES2/g8+acxpL45rDb+ZnKoow2ecuPehUh9ZO7w2BreWLiFOq4QXlg6Lb6YX5K4mjiE9SSWdPPe0hsWciqreauxo0YWWsYa6svC0LzvXE+1UmgnxuSSZUCm5j40ujhUnNPObdAyAmGE95OdPjFqgM1HVKbtSNVT7D7kLAtNoF0+E0c8NWD9AErHVdh4Kxha4meOzZ7HjLoowti8xcjtnfAfGpozLL2jDFsAAAAASUVORK5CYII="},"2d97":function(e,t,a){"use strict";a("96df")},"3fe3":function(e,t,a){"use strict";var s=a("688d");t["a"]={data:function(){var e=this;return{options2:{shortcuts:[{text:"近一周",value:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-6048e5),[t,e]}},{text:"近一个月",value:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-2592e6),[t,e]}},{text:"近一年",value:function(){var e=new Date,t=new Date;return t.setTime(t.getTime()-864e5*Object(s["b"])()),[t,e]}}],disabledDate:function(t){if(e.endMonth){var a=e.getDate(e.endMonth);return t&&t>a||t>new Date}return t&&t>new Date}}}}}},"688d":function(e,t,a){"use strict";function s(e){var t=e.getFullYear(),a=e.getMonth()+1;a=a<10?"0"+a:a;var s=e.getDate();return s=s<10?"0"+s:s,t+"-"+a+"-"+s}function i(){var e=new Date,t=new Date(e.getFullYear(),0,1),a=e.getTime()-t.getTime(),s=Math.floor(a/864e5);return s}a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return i}))},"7a35":function(e,t,a){},"8a96":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page"},[e._m(0),s("div",{staticClass:"main-body"},[s("div",{staticClass:"main-title margin-bottom-20"},[s("Row",{attrs:{gutter:20}},[s("i-col",{staticClass:"text-left",attrs:{span:4}},[s("Input",{attrs:{placeholder:"请输入BUG ID",size:"large",clearable:""},model:{value:e.query.bugId,callback:function(t){e.$set(e.query,"bugId",t)},expression:"query.bugId"}})],1),s("i-col",{staticClass:"text-left",attrs:{span:4}},[s("Input",{attrs:{placeholder:"请输入BUG标题",size:"large",clearable:""},model:{value:e.query.bugTitle,callback:function(t){e.$set(e.query,"bugTitle",t)},expression:"query.bugTitle"}})],1),s("i-col",{staticClass:"text-left",attrs:{span:4}},[s("Select",{attrs:{size:"large",placeholder:"请选择项目",filterable:"",clearable:""},model:{value:e.query.bugProjectName,callback:function(t){e.$set(e.query,"bugProjectName",t)},expression:"query.bugProjectName"}},e._l(e.projectName,(function(t){return s("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1),s("i-col",{staticClass:"text-left",attrs:{span:4}},[s("Select",{attrs:{size:"large",placeholder:"请选择事业部",filterable:"",clearable:""},model:{value:e.query.department,callback:function(t){e.$set(e.query,"department",t)},expression:"query.department"}},e._l(e.department,(function(t){return s("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1),s("i-col",{staticClass:"text-left",attrs:{span:4}},[s("Select",{attrs:{size:"large",placeholder:"请选择部门",filterable:"",clearable:""},model:{value:e.query.groupId,callback:function(t){e.$set(e.query,"groupId",t)},expression:"query.groupId"}},e._l(e.deptList,(function(t){return s("Option",{key:t.groupId+t.groupName,attrs:{value:t.groupId}},[e._v(e._s(t.groupName))])})),1)],1),s("i-col",{staticClass:"text-left",attrs:{span:4}},[s("Select",{attrs:{size:"large",placeholder:"请选择人员",filterable:"",clearable:""},model:{value:e.query.realUserName,callback:function(t){e.$set(e.query,"realUserName",t)},expression:"query.realUserName"}},e._l(e.personList,(function(t){return s("Option",{key:t.realUserId+t.realUserName,attrs:{value:t.realUserName}},[e._v(e._s(t.realUserName))])})),1)],1),s("i-col",{staticClass:"text-left margin-top-20",attrs:{span:4}},[s("Select",{attrs:{size:"large",placeholder:"请选择BUG状态",filterable:"",clearable:""},model:{value:e.query.status,callback:function(t){e.$set(e.query,"status",t)},expression:"query.status"}},e._l(e.statusList,(function(t){return s("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.name))])})),1)],1),s("i-col",{staticClass:"text-left margin-top-20",attrs:{span:4}},[s("Select",{attrs:{size:"large",placeholder:"请选择Reopen类型",filterable:"",clearable:""},model:{value:e.query.bugReopen,callback:function(t){e.$set(e.query,"bugReopen",t)},expression:"query.bugReopen"}},e._l(e.bugReopenStatus,(function(t){return s("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.name))])})),1)],1),s("i-col",{staticClass:"text-left margin-top-20",attrs:{span:4}},[s("Select",{attrs:{size:"large",placeholder:"请选择BUG类型",filterable:"",clearable:""},model:{value:e.query.bugType2,callback:function(t){e.$set(e.query,"bugType2",t)},expression:"query.bugType2"}},e._l(e.bugTypeList,(function(t){return s("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.name))])})),1)],1),s("i-col",{attrs:{span:4}},[s("div",{staticClass:"date-box margin-top-20"},[s("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"daterange",options:e.options2,placement:"bottom-end",placeholder:"请选择日期",size:"large",value:e.selectTimeValue},on:{"on-change":e.changeTime}})],1)]),s("i-col",{staticClass:"margin-top-20",attrs:{span:1}},[s("Button",{directives:[{name:"debounce",rawName:"v-debounce"}],attrs:{size:"large",type:"primary"},on:{click:e.searchList}},[s("span",{staticClass:"fa fa-search"})])],1)],1)],1),s("div",{staticClass:"show-box"},[s("Row",{attrs:{gutter:20,type:"flex",align:"middle"}},[s("i-col",{staticClass:"text-center-box",attrs:{span:6}},[s("div",{staticClass:"text-center"},[s("div",{staticClass:"t"},[s("img",{attrs:{src:a("e526"),alt:""}}),s("div",{staticClass:"title "},[e._v("Bug总数")])]),s("div",{staticClass:"b number bug-count"},[e._v(e._s(e.showInfo.bugCount))])])]),s("i-col",{staticClass:"text-center-box",attrs:{span:6}},[s("div",{staticClass:"text-center"},[s("div",{staticClass:"t"},[s("img",{attrs:{src:a("c2f5"),alt:""}}),s("div",{staticClass:"title"},[e._v("关闭Bug数")])]),s("div",{staticClass:"b number close-count"},[e._v(e._s(e.showInfo.closeCount))])])]),s("i-col",{staticClass:"text-center-box",attrs:{span:6}},[s("div",{staticClass:"text-center"},[s("div",{staticClass:"t"},[s("img",{attrs:{src:a("1201"),alt:""}}),s("div",{staticClass:"title"},[e._v("Reopen数")])]),s("div",{staticClass:"b number reopen-count"},[e._v(e._s(e.showInfo.reopenCount))])])]),s("i-col",{staticClass:"text-center-box",attrs:{span:6}},[s("div",{staticClass:"text-center"},[s("div",{staticClass:"t"},[s("img",{attrs:{src:a("039d"),alt:""}}),s("div",{staticClass:"title"},[e._v("非Bug数")])]),s("div",{staticClass:"b number noBug-count"},[e._v(e._s(e.showInfo.noBugCount))])])])],1)],1),e.hasList?s("div",[s("div",{staticClass:"page-table margin-bottom-20"},[s("Table",{attrs:{loading:e.tableLoading,columns:e.tableColumns,"tooltip-theme":"light",stripe:"",data:e.dataList,"fixed-header":""},on:{"on-row-click":e.handleHeader}})],1),s("div",{staticClass:"page-footer text-center"},[s("Page",{attrs:{total:e.itemTotal,current:e.pageIndex,"page-size":e.pageSize,"show-elevator":"","show-total":"","show-sizer":""},on:{"on-page-size-change":e.getPageSize,"on-change":e.getPageList}})],1)]):s("div",{staticClass:"main-none"},[s("noListData")],1)]),s("div",{staticClass:"content_win"},[s("pieChart",{ref:"pieChart"}),s("barChart",{ref:"barChart"})],1)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-header margin-bottom-20"},[a("h3",[e._v("BUG明细")])])}],r=a("3fe3"),n=a("688d"),o=a("2f62"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Modal",{key:"pieChart",staticClass:"page-modal",attrs:{width:"45%","class-name":"vertical-center-modal","footer-hide":"","mask-closable":!0,title:e.title,closable:!0},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}},[a("div",{staticClass:"container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.hasData,expression:"hasData"}],ref:"lineChart",staticClass:"line-box",attrs:{id:"pieChart"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.hasData,expression:"!hasData"}],staticClass:"main-none"},[a("noListData",{attrs:{"no-data-txt":e.noDataTxt}})],1)])])],1)},h=[],u={name:"pieChart",props:{},data:function(){return{dialogVisible:!1,title:"事业部BUG分析",noDataTxt:"暂无数据",hasData:!0,options:{},dataObj:{data:[]},query:{}}},watch:{dialogVisible:function(e){e?this.getPieData():this.cancelClose()},dataObj:{deep:!0,immediate:!0,handler:function(e){var t=this;this.$nextTick((function(){t.initOptions(e.data),t.updateChart(t.options)}))}}},mounted:function(){this.initOptions(),this.updateChart(this.options)},methods:{initOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.options={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:""},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %",style:{color:this.$hCharts.theme&&this.$hCharts.theme.contrastTextColor||"black"}}}},series:[{name:"",colorByPoint:!0,data:e}]}},updateChart:function(e){this.$el=document.getElementById("pieChart"),this.chart=new this.$hCharts.Chart(this.$el,e)},cancelClose:function(){this.dialogVisible=!1},getPieData:function(){var e=this;this.hasData=!1,this.$store.dispatch("bugDetails/bugAnalysis",this.query).then((function(t){console.log(t.data);var a=t.data.series;console.log("series",a),0===a.length?(console.log("无数据"),e.hasData=!1):(e.hasData=!0,e.$set(e.dataObj,"data",a))})).catch((function(){}))}}},c=u,d=(a("ad066"),a("2877")),p=Object(d["a"])(c,l,h,!1,null,"06fa1be6",null),g=p.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Modal",{staticClass:"page-modal",attrs:{width:"45","class-name":"vertical-center-modal","footer-hide":"","mask-closable":!0,title:e.title,closable:!0},on:{"on-close":e.cancelClose},model:{value:e.dialogVisible,callback:function(t){e.dialogVisible=t},expression:"dialogVisible"}},[a("div",{staticClass:"container"},[a("Row",{staticClass:"row-box",attrs:{type:"flex",justify:"end",gutter:20}},[a("i-col",{directives:[{name:"show",rawName:"v-show",value:1==e.hasType,expression:"hasType==1"}],attrs:{span:6}},[a("Input",{attrs:{placeholder:"请输入限制项目数量",size:"large"},on:{"on-blur":e.changeMaxNum},model:{value:e.size,callback:function(t){e.size=t},expression:"size"}})],1),a("i-col",{directives:[{name:"show",rawName:"v-show",value:1==e.hasVersionQuery&&3==e.hasType||e.showInput,expression:"(hasVersionQuery==1&&hasType==3)||showInput"}],attrs:{span:6}},[a("Input",{attrs:{placeholder:"请输入版本号前缀",size:"large"},on:{"on-blur":e.changeVersion},model:{value:e.versionPrefix,callback:function(t){e.versionPrefix=t},expression:"versionPrefix"}})],1),a("i-col",{directives:[{name:"show",rawName:"v-show",value:1==e.hasVersionQuery&&3==e.hasType||e.showInput,expression:"(hasVersionQuery==1&&hasType==3)||showInput"}],attrs:{span:6}},[a("Input",{attrs:{placeholder:"请输入版本号后缀",size:"large"},on:{"on-blur":e.changeVersion},model:{value:e.versionSuffix,callback:function(t){e.versionSuffix=t},expression:"versionSuffix"}})],1),a("i-col",{directives:[{name:"show",rawName:"v-show",value:e.hasSelect,expression:"hasSelect"}],staticClass:"text-left",attrs:{span:6}},[a("Select",{attrs:{size:"large",placeholder:"请选择显示类型",filterable:""},on:{"on-change":e.changeType},model:{value:e.query.selectType,callback:function(t){e.$set(e.query,"selectType",t)},expression:"query.selectType"}},e._l(e.typeList,(function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:e.hasData&&(1==e.query.selectType||5==e.hasType),expression:"hasData&&(query.selectType==1||hasType==5)"}],ref:"lineChart",staticClass:"line-box",attrs:{id:"barChart"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.hasPieData&&2==e.query.selectType,expression:"hasPieData&&query.selectType==2"}],ref:"lineChart",staticClass:"line-box",attrs:{id:"projectPieChart"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:e.hasLineData&&(3==e.query.selectType||3==e.hasType),expression:"hasLineData&&(query.selectType==3||hasType==3)"}],ref:"lineChart",staticClass:"line-box",attrs:{id:"projectLineChart"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.hasData&&!e.hasPieData&&!e.hasLineData,expression:"!hasData&&!hasPieData&&!hasLineData"}],staticClass:"main-none"},[a("noListData",{attrs:{"no-data-txt":e.noDataTxt}})],1)],1)])],1)},b=[],y={name:"barChart",props:{},data:function(){return{dialogVisible:!1,title:"事业部BUG分析",noDataTxt:this.hasLineData?"暂无数据":"暂无数据，请先选择项目或者日期",hasData:!1,hasPieData:!1,hasLineData:!1,options:{},pieOptions:{},lineOptions:{},size:5,dataObj:{data:[],categories:[],height:450},lineDataObj:{data:[],categories:[]},pieDateObj:{data:[]},chart:null,query:{selectType:1},hasSelect:!0,hasType:1,typeList:[{label:"柱状图",value:1},{label:"饼图",value:2}],hasVersionQuery:0,versionPrefix:"",versionSuffix:"",showInput:!1}},computed:{},watch:{dialogVisible:function(e){e?(console.log("hasVersionQuery",this.hasVersionQuery),this.size=5,1==this.query.selectType||5==this.hasType?this.getChartData():2==this.query.selectType?this.getPieChartData():3!=this.query.selectType&&3!=this.hasType||this.getLineChartData()):this.cancelClose()},hasType:{immediate:!0,handler:function(e){1==e?this.typeList=[{label:"柱状图",value:1},{label:"饼图",value:2}]:2==e&&(this.typeList=[{label:"饼图",value:2},{label:"折线图",value:3}])}},dataObj:{deep:!0,immediate:!0,handler:function(e){var t=this;this.$nextTick((function(){t.initOptions(e.categories,e.data,e.height),t.updateChart(t.options)}))}},pieDateObj:{deep:!0,immediate:!0,handler:function(e){var t=this;this.$nextTick((function(){t.initPieOptions(e.data),t.updatePieChart(t.pieOptions)}))}},lineDataObj:{deep:!0,immediate:!0,handler:function(e){var t=this;this.$nextTick((function(){t.initLineOptions(e.categories,e.data),t.updateLineChart(t.lineOptions)}))}}},methods:{initOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:450;this.options={chart:{type:"bar",height:a},title:{text:""},xAxis:{categories:e},yAxis:{min:0,title:{text:""}},legend:{reversed:!0},plotOptions:{bar:{dataLabels:{enabled:!0,allowOverlap:!0}}},series:[{name:"",data:t}],colors:["#90e0ef"]}},initPieOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.pieOptions={chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},title:{text:""},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %",style:{color:this.$hCharts.theme&&this.$hCharts.theme.contrastTextColor||"black"}}}},series:[{name:"",colorByPoint:!0,data:e}]}},initLineOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.lineOptions={chart:{type:"line"},title:{text:""},subtitle:{text:""},xAxis:{categories:e},yAxis:{title:{text:"BUG数量"}},plotOptions:{line:{dataLabels:{enabled:!0}}},series:t}},updateChart:function(e){this.$el=document.getElementById("barChart"),this.chart=new this.$hCharts.Chart(this.$el,e)},updatePieChart:function(e){this.$el=document.getElementById("projectPieChart"),this.chart=new this.$hCharts.Chart(this.$el,e)},updateLineChart:function(e){this.$el=document.getElementById("projectLineChart"),this.chart=new this.$hCharts.Chart(this.$el,e)},cancelClose:function(){this.hasData=!1,this.hasPieData=!1,this.hasLineData=!1,this.dialogVisible=!1,this.hasSelect=!0,this.query.selectType=1,this.hasType=1,this.size=5,this.hasVersionQuery=0,this.versionPrefix="",this.versionSuffix="",this.showInput=!1,this.$set(this.dataObj,"height",450)},changeMaxNum:function(){this.size<1&&(this.size=5,this.$Message.error("请输入大于0的数字")),1==this.query.selectType?this.getChartData():2==this.query.selectType&&this.getPieChartData()},changeVersion:function(){this.query.versionPrefix=this.versionPrefix,this.query.versionSuffix=this.versionSuffix,this.getLineChartData()},getChartData:function(){this.hasData=!1,console.log("statisticsType",this.query.statisticsType),0==this.query.statisticsType?this.getTopChartData():11==this.query.statisticsType&&this.getFunctionChartData()},getTopChartData:function(){var e=this;this.hasData=!1;var t={size:this.size,type:1};this.query=Object.assign({},this.query,t),this.$store.dispatch("bugDetails/bugTop",this.query).then((function(t){var a=t.data,s=a.data,i=a.xchart;0===s.length?e.hasData=!1:(e.hasData=!0,s.length<20?e.$set(e.dataObj,"height",450):e.$set(e.dataObj,"height",20*s.length),e.$set(e.dataObj,"categories",i),e.$set(e.dataObj,"data",s))})).catch((function(){}))},getFunctionChartData:function(){var e=this;this.hasData=!1,this.$store.dispatch("bugDetails/bugHistogram",this.query).then((function(t){var a=t.data,s=a.data,i=a.xchart;0===s.length?e.hasData=!1:(e.hasData=!0,s.length<20?e.$set(e.dataObj,"height",450):e.$set(e.dataObj,"height",20*s.length),e.$set(e.dataObj,"categories",i),e.$set(e.dataObj,"data",s))})).catch((function(){}))},getPieChartData:function(){var e=this;this.hasPieData=!1;var t={};1==this.hasType&&(t.size=this.size),this.query=Object.assign({},this.query,t),this.$store.dispatch("bugDetails/bugAnalysis",this.query).then((function(t){var a=t.data.series;0===a.length?e.hasPieData=!1:(e.hasPieData=!0,e.$set(e.pieDateObj,"data",a))})).catch((function(){}))},getLineChartData:function(){var e=this;this.hasLineData=!1,this.$store.dispatch("bugDetails/bugVersionAnalysis",this.query).then((function(t){var a=t.data.charts;if(a.length>1||0==a.length)e.hasLineData=!1;else{e.hasLineData=!0;for(var s=[],i={},r=0;r<a[0].series.length;r++)i[r]=a[0].series[r].data;for(var n=0;n<i[0].length;n++){for(var o=0,l=0;l<a[0].series.length;l++)o+=i[l][n];s.push(o)}a[0].series.push({name:"total",data:s}),e.$set(e.lineDataObj,"data",a[0].series),e.$set(e.lineDataObj,"categories",a[0].xchart)}})).catch((function(){}))},changeType:function(e){1==e?(this.hasPieData=!1,this.hasLineData=!1,this.getChartData()):2==e?(this.hasData=!1,this.hasLineData=!1,this.getPieChartData()):3==e&&(this.hasData=!1,this.hasPieData=!1,2==this.query.type&&(this.showInput=!0),this.getLineChartData())}}},v=y,m=(a("2d97"),Object(d["a"])(v,f,b,!1,null,"7774ded6",null)),C=m.exports;function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(Object(a),!0).forEach((function(t){x(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function x(e,t,a){return t=O(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function O(e){var t=q(e,"string");return"symbol"==w(t)?t:t+""}function q(e,t){if("object"!=w(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var s=a.call(e,t||"default");if("object"!=w(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var T={name:"message",components:{pieChart:g,barChart:C},mixins:[r["a"]],data:function(){var e=this;return{selectActive:1,hasList:!1,pageSize:10,pageIndex:1,itemTotal:0,validForm:{},query:{realUserName:"",status:"",startDate:"",endDate:"",bugReopen:"",groupId:"",bugType2:""},dataList:[],personList:[],selectTime:[],tableLoading:!1,selectTimeValue:[],department:[],projectName:[],deptList:[],showInfo:{reopenCount:0,noBugCount:0,closeCount:0,bugCount:0},tableColumns:[{key:"projectName",title:"项目名称",align:"center",width:200,renderHeader:function(t,a){return e.renderHeader(t,a,"项目名称","ios-pie-outline")}},{key:"department",title:"事业部",align:"center",width:100,renderHeader:function(t,a){return e.renderHeader(t,a,"事业部","ios-pulse")}},{key:"bugTitle",title:"标题",align:"center",width:200},{key:"bugId",title:"ID",width:100,align:"center"},{key:"level",title:"严重等级",align:"center",width:100,renderHeader:function(t,a){return e.renderHeader(t,a,"严重等级","ios-ionic-outline")}},{key:"status",title:"状态",align:"center",width:100,renderHeader:function(t,a){return e.renderHeader(t,a,"状态","ios-paper-outline")}},{key:"creator",title:"创建人",width:80,align:"center"},{key:"resolveName",title:"负责人",align:"center",width:80,renderHeader:function(t,a){return e.renderHeader(t,a,"负责人","ios-person-outline")}},{key:"bugType2",title:"类型",align:"center",width:100,renderHeader:function(t,a){return e.renderHeader(t,a,"类型","ios-analytics")}},{key:"belongTo",title:"责任归属",width:100,align:"center",renderHeader:function(t,a){return e.renderHeader(t,a,"责任归属","ios-pie")}},{key:"bugVersion",title:"影响版本",width:150,align:"center",renderHeader:function(t,a){return e.renderHeader(t,a,"影响版本","ios-pricetags-outline")}},{key:"module",title:"功能模块",width:100,align:"center",renderHeader:function(t,a){return e.renderHeader(t,a,"功能模块","ios-color-filter-outline")}},{key:"probability",title:"发生概率",width:100,align:"center"},{key:"fixVersion",title:"修复版本",width:100,align:"center"},{key:"bugReopen",title:"BugReopen",width:100,align:"center"},{key:"bugReopenMonth",title:"BugReopenMonth",align:"center",width:150},{key:"createTime",title:"创建时间",width:180,align:"center"},{key:"endTime",title:"关闭时间",width:180,align:"center"}]}},computed:D({},Object(o["c"])("bugDetails",["statusList","bugReopenStatus","bugTypeList"])),watch:{},created:function(){var e=new Date,t=new Date;t.setTime(t.getTime()-2592e6),this.query.startDate=Object(n["a"])(t,"yyyy-MM-dd"),this.query.endDate=Object(n["a"])(e,"yyyy-MM-dd"),this.selectTimeValue[0]=this.query.startDate,this.selectTimeValue[1]=this.query.endDate},mounted:function(){void 0!==this.$route.params.projectId&&this.$set(this.validForm,"projectId",this.$route.params.projectId),void 0!==this.$route.query.groupId&&this.$set(this.query,"groupId",this.$route.query.groupId),void 0!==this.$route.query.bugProjectName&&this.$set(this.query,"bugProjectName",this.$route.query.bugProjectName),void 0!==this.$route.query.type&&1===this.$route.query.type&&this.$set(this.query,"bugReopen",1),void 0!==this.$route.query.realUserName&&this.$set(this.query,"realUserName",this.$route.query.realUserName),void 0!==this.$route.query.startDate&&(this.$set(this.query,"startDate",this.$route.query.startDate),this.$set(this.selectTimeValue,0,this.query.startDate)),void 0!==this.$route.query.endDate&&(this.$set(this.query,"endDate",this.$route.query.endDate),this.$set(this.selectTimeValue,1,this.query.endDate)),this.getPersonList(),this.getBugSystemName(),this.getDeptList(),this.getList()},methods:{getPageList:function(e){this.pageIndex=e,this.getList()},getPageSize:function(e){this.pageIndex=1,this.pageSize=e,this.getList()},searchList:function(){this.pageIndex=1,this.getList()},updatePerson:function(){this.$refs.editPerson.dialogVisible=!0},getList:function(){var e=this;this.tableLoading=!0;var t={pageIndex:this.pageIndex,pageSize:this.pageSize};t=Object.assign(this.query,t),this.$store.dispatch("bugDetails/detailList",t).then((function(t){e.tableLoading=!1;var a=t.data,s=a.reopenCount,i=a.noBugCount,r=a.closeCount,n=a.bugCount;e.showInfo={reopenCount:s,noBugCount:i,closeCount:r,bugCount:n},a.records&&0===a.records.length?e.hasList=!1:(e.hasList=!0,e.dataList=a.bugDetails.records,e.itemTotal=a.bugDetails.total)})).catch((function(){e.tableLoading=!1}))},getPersonList:function(){var e=this,t={type:0};this.$store.dispatch("commit/getPersonList",t).then((function(t){e.personList=t.data})).catch((function(){}))},changeTime:function(e){console.log(e),this.selectTime=e,this.query.startDate=e[0],this.query.endDate=e[1]},getBugSystemName:function(){var e=this;this.$store.dispatch("bugDetails/getBugSystemName").then((function(t){var a=t.data;a.department.forEach((function(t){e.department.push({value:t,label:t})})),a.projectName.forEach((function(t){e.projectName.push({value:t,label:t})}))})).catch((function(){}))},getDeptList:function(){var e=this;this.$store.dispatch("deptManager/getDeptList").then((function(t){e.deptList=t.data})).catch((function(){}))},handleHeader:function(e){},handleChart:function(e){var t=e.column,a=e.index;console.log(a);var s=JSON.parse(JSON.stringify(this.query)),i=[0,9,11,10],r=[1,4,5,7,8];i.includes(a)&&(this.$refs.barChart.dialogVisible=!0,this.$refs.barChart.query.selectType=1,this.$refs.barChart.query=s,this.$refs.barChart.title=t.title+"分析"),r.includes(a)&&(this.$refs.pieChart.dialogVisible=!0,this.$refs.pieChart.title=t.title+"分析",this.$refs.pieChart.query=s),s.statisticsType=a,0==a&&(this.$refs.barChart.hasType=1,this.$refs.barChart.query.selectType=1),9==a&&(this.$refs.barChart.query.selectType=2,this.$refs.barChart.hasType=2,this.$refs.barChart.query.type=2,this.$refs.barChart.hasVersionQuery=1),10==a&&(this.$refs.barChart.hasType=3,this.$refs.barChart.hasSelect=!1,this.$refs.barChart.query.type=1,this.$refs.barChart.hasVersionQuery=1),11==a&&(this.$refs.barChart.hasType=5,this.$refs.barChart.hasSelect=!1)},renderHeader:function(e,t,a,s){var i=this;return e("div",[e("span",{style:{color:"#339dff","margin-right":"5px",cursor:"pointer"}},a),e("Icon",{props:{type:s,size:"18",color:"#339dff"},style:{cursor:"pointer"},on:{click:function(e){i.handleChart(t)}}})])}}},S=T,L=(a("04bb"),Object(d["a"])(S,s,i,!1,null,"a16956c8",null));t["default"]=L.exports},"96df":function(e,t,a){},"9a5e":function(e,t,a){},ad066:function(e,t,a){"use strict";a("9a5e")},c2f5:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAABHNCSVQICAgIfAhkiAAAAulJREFUSEu9VkF200AMldJACQ9ib+A5q7YnID0BybLJouEEtCdoeoImJ6CcoOUEhEXSZcwJmp6g6Sp+sLELjwCvjZCmHj/HHttN4eFNXmY086Wvr5EQ/vOHq+DNz5zNG4INIrLlHCL6ZYSryo43ve89hYA0tu3reeWICBqIUDddzHsT3nOrlXkfm76fB54LGAydHgEe8GUqoqKPgX0s0bG14/WzbI2AElXwozLOiugewBPr6bxpijYFGIJdFkR1GIK+ywIXmk2gKUB/WJN8vMqLwmrN1LlgVKM8OwG127PtuM0SoOSMpXeUvIQPXgCQzarckL0kIKv2ijXrGx0l6lttr6fvjABF8r8WeJ6mkj5YLW/v+/BF/RbL5ybANbrZftb+OglGzikDv407LEJiard0PiNApueYDQ+WjIE+2y2vEdLX5V+VMwOlh7wm58EfOS4Cvk6w9J735TxEgP7QmWrKtPFjpC0p6uuhs0eIJ3rdlEMk2q+2vVNh6jfhZSLKKJcK0GQEBJ+s9qxjotoEKNStl2hbHAyGtQGHshsH1c4rwG9nTmNBOE7QoGhiqiMq8yIM9+7OGMRXQmo+3/GYbv6uRy87BGsf44DawCSEzLIIFWkKAOH2TbX1ZfAgQFGlOKdVGzkapqEQcFVKE9RHf7VwCiktEk1SdSZAAgrWuZvcSzSqfgxPmlaWSThJ0IKyuOAnTrW2osJ3ufCbYiigHEWPi9paqjGOrETQlRpUdoaS4OV04asuMX8yTV4IRKf8Fu7H6rXD72odCG0EGjwqgas7vvFpY4esys/N1NN2513G4w3kcn72s0YJ9TgQnLCzjVR+sx5vbZjXnrgXDRBpwhS6Yr8gqhOWGpwXjjr9SZfRudO7WQ3YLeqJWaWh1wWMu0Qj2fXzRowHg2aBLanU5LEaohC6KSFlhCe1iATH8YabKp9Cau7GxF44JhpHD4koHBN7fzUmJp1RgzDAZny9DDD9p4NwEQOr7v8BqK/YLKh8nKkAAAAASUVORK5CYII="},e526:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAABHNCSVQICAgIfAhkiAAAAcVJREFUSEvllk9OwlAQxue1i265gW4NJuIN4AZ1QegOuAE3UE+gnoC6K2EjJ6CeQExEl3gEWairdpxp2ubZvv4HEmOXMO/95pv5ZloBB37EgXmQAq4ta0RJHFVNRCB+CCEWJ47znnc2Bm5Ms/VlGEsQolMVFsUjQ32/157PV1l3xMBQ2ZQOPetCTKpCPYARXTZEgPtTx+EqKR8ZeEURlxpAj8riVgVyPCXtAuKqPZtlJrxTYJkkC4Hc22/DGKIQrTIXyjEqI+UC92GkXODrYDAhZTdVlaXiERfUV5N/zwWSCQIjNQYCPLYdp/t3gDxrVBoenWmsHnGrCWF6iLe0cc4SVamvUB7saFnQ7G3B97u8Ydhon4bhJqD1gZS5Tf0YRwoCqOetonW27vc7qGlLAspj1AjIrF/QGK6G8d+NgXzJmJTaJWDNgVkL+sWybF7gijFKK4yHHPGBhvQiXMapOUzCuIey0gxoGvhmWcc+wCbMLghQDr7nnUcGkS6Pe8qmAV1/KhwLDiBol6CsCrKA0UsWdX2SKJ9Nbr1TOFTdQ9X62utq+5/AhJGavDSuyROBNwq/S2Uj1SS6EawUsCYk81ihwl0DfwDm4Ugs36uF3AAAAABJRU5ErkJggg=="}}]);